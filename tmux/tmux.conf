### --- General Settings ---
set -g mouse on                         # Enable mouse support
setw -g mode-keys vi                    # Use Vim-style keys in copy mode


set-option -sg escape-time 10
set-option -g focus-events on
set-option -a terminal-features 'xterm-256color:RGB'

### --- Prefix Key ---
unbind C-b                              # Unbind default prefix
set -g prefix C-Space                   # Use Ctrl+Space as prefix
bind C-Space send-prefix

### --- Reload Tmux Config ---
bind r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"

### --- Vim-style Pane Movement Without Prefix ---
bind -n C-h select-pane -L             # Move to left pane
bind -n C-j select-pane -D             # Move to bottom pane
bind -n C-k select-pane -U             # Move to top pane
bind -n C-l select-pane -R             # Move to right pane

### --- Copy Mode Keybindings ---
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send -X copy-selection-and-cancel

### --- Clipboard Integration via tmux-yank Plugin ---
set -g @plugin 'tmux-plugins/tpm'            # Plugin manager
set -g @plugin 'tmux-plugins/tmux-yank'      # Copy to system clipboard
set -g @plugin 'christoomey/vim-tmux-navigator'  # Seamless Vim <-> tmux navigation

### --- OS-specific clipboard support ---
# Linux: install xclip or xsel
# Mac: works out of the box (uses pbcopy)
# WSL: use win32yank (must be installed separately)

# Optional: force clipboard on (can help in some cases)
set-option -g set-clipboard on

### --- Initialize TMUX Plugin Manager ---
run '~/.tmux/plugins/tpm/tpm'
